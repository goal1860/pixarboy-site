document.addEventListener('DOMContentLoaded',function(){const mobileMenuToggle=document.getElementById('mobileMenuToggle');const navMenu=document.getElementById('navMenu');if(mobileMenuToggle&&navMenu){mobileMenuToggle.addEventListener('click',function(){navMenu.classList.toggle('active');const spans=this.querySelectorAll('span');if(navMenu.classList.contains('active')){spans[0].style.transform='rotate(45deg)translateY(8px)';spans[1].style.opacity='0';spans[2].style.transform='rotate(-45deg)translateY(-8px)';}else{spans[0].style.transform='none';spans[1].style.opacity='1';spans[2].style.transform='none';}});document.addEventListener('click',function(event){if(!mobileMenuToggle.contains(event.target)&&!navMenu.contains(event.target)){navMenu.classList.remove('active');const spans=mobileMenuToggle.querySelectorAll('span');spans[0].style.transform='none';spans[1].style.opacity='1';spans[2].style.transform='none';}});window.addEventListener('resize',function(){if(window.innerWidth>768){navMenu.classList.remove('active');const spans=mobileMenuToggle.querySelectorAll('span');spans[0].style.transform='none';spans[1].style.opacity='1';spans[2].style.transform='none';}});}const navbar=document.querySelector('.navbar');if(navbar){window.addEventListener('scroll',function(){if(window.scrollY>50){navbar.classList.add('scrolled');}else{navbar.classList.remove('scrolled');}});}document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){const href=this.getAttribute('href');if(href!=='#'&&href!==''){e.preventDefault();const target=document.querySelector(href);if(target){target.scrollIntoView({behavior:'smooth',block:'start'});if(navMenu){navMenu.classList.remove('active');}}}});});const alerts=document.querySelectorAll('.alert');alerts.forEach(alert=>{const closeBtn=document.createElement('span');closeBtn.innerHTML='×';closeBtn.style.cssText='cursor:pointer;font-size:1.5rem;line-height:1;margin-left:auto;padding-left:1rem;';closeBtn.addEventListener('click',function(){alert.style.opacity='0';alert.style.transform='translateY(-20px)';setTimeout(()=>alert.remove(),300);});alert.appendChild(closeBtn);setTimeout(()=>{alert.style.transition='all 0.3s ease';alert.style.opacity='0';alert.style.transform='translateY(-20px)';setTimeout(()=>alert.remove(),300);},5000);});const forms=document.querySelectorAll('form');forms.forEach(form=>{const inputs=form.querySelectorAll('.form-control');inputs.forEach(input=>{input.addEventListener('focus',function(){this.parentElement.style.transform='translateY(-2px)';});input.addEventListener('blur',function(){this.parentElement.style.transform='none';});});});const deleteButtons=document.querySelectorAll('[data-confirm]');deleteButtons.forEach(button=>{button.addEventListener('click',function(e){const message=this.getAttribute('data-confirm')||'Are you sure you want to delete this item?';if(!confirm(message)){e.preventDefault();return false;}});});const tableRows=document.querySelectorAll('.table tbody tr');tableRows.forEach(row=>{row.addEventListener('mouseenter',function(){this.style.transform='scale(1.01)';});row.addEventListener('mouseleave',function(){this.style.transform='none';});});const textareas=document.querySelectorAll('textarea[maxlength]');textareas.forEach(textarea=>{const maxLength=textarea.getAttribute('maxlength');const counter=document.createElement('div');counter.style.cssText='text-align:right;color:#999;font-size:0.875rem;margin-top:0.25rem;';counter.textContent=`0/${maxLength}`;textarea.parentElement.appendChild(counter);textarea.addEventListener('input',function(){const currentLength=this.value.length;counter.textContent=`${currentLength}/${maxLength}`;if(currentLength>maxLength*0.9){counter.style.color='#ff6b6b';}else{counter.style.color='#999';}});});forms.forEach(form=>{form.addEventListener('submit',function(e){const submitBtn=this.querySelector('button[type="submit"]');if(submitBtn&&!submitBtn.hasAttribute('data-no-loading')){submitBtn.disabled=true;const originalText=submitBtn.textContent;submitBtn.textContent='Loading...';submitBtn.style.opacity='0.7';setTimeout(()=>{submitBtn.disabled=false;submitBtn.textContent=originalText;submitBtn.style.opacity='1';},3000);}});});const copyButtons=document.querySelectorAll('[data-copy]');copyButtons.forEach(button=>{button.addEventListener('click',function(){const text=this.getAttribute('data-copy');navigator.clipboard.writeText(text).then(()=>{const originalText=this.textContent;this.textContent='Copied!';this.style.background='#51cf66';setTimeout(()=>{this.textContent=originalText;this.style.background='';},2000);});});});const tooltipElements=document.querySelectorAll('[data-tooltip]');tooltipElements.forEach(element=>{element.addEventListener('mouseenter',function(e){const tooltipText=this.getAttribute('data-tooltip');const tooltip=document.createElement('div');tooltip.className='tooltip';tooltip.textContent=tooltipText;tooltip.style.cssText=` position:absolute;background:#2c3e50;color:white;padding:0.5rem 1rem;border-radius:6px;font-size:0.875rem;z-index:9999;white-space:nowrap;pointer-events:none;`;document.body.appendChild(tooltip);const rect=this.getBoundingClientRect();tooltip.style.top=(rect.top-tooltip.offsetHeight-8)+'px';tooltip.style.left=(rect.left+rect.width/2-tooltip.offsetWidth/2)+'px';this.addEventListener('mouseleave',function(){tooltip.remove();},{once:true});});});const printButtons=document.querySelectorAll('[data-print]');printButtons.forEach(button=>{button.addEventListener('click',function(){window.print();});});const viewButtons=document.querySelectorAll('.view-btn');const postsContainer=document.getElementById('postsContainer');console.log('View buttons found:',viewButtons.length);console.log('Posts container found:',!!postsContainer);if(viewButtons.length>0&&postsContainer){viewButtons.forEach(button=>{button.addEventListener('click',function(){const view=this.getAttribute('data-view');console.log('View button clicked:',view);viewButtons.forEach(btn=>btn.classList.remove('active'));this.classList.add('active');if(view==='list'){postsContainer.classList.remove('grid','grid-2');postsContainer.classList.add('list-view');console.log('Switched to list view');}else{postsContainer.classList.remove('list-view');postsContainer.classList.add('grid','grid-2');console.log('Switched to grid view');}localStorage.setItem('postsView',view);});});const savedView=localStorage.getItem('postsView');if(savedView){const targetButton=document.querySelector(`[data-view="${savedView}"]`);if(targetButton){targetButton.click();}}}console.log('✨ Pixarboy CMS initialized successfully!');});